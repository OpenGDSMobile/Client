<!DOCTYPE html>

<html>
    <head>
        <base href="../">
        <title>GeoServer 레이어 리스트</title>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="./css/egovframework/mbl/cmm/jquery.mobile-1.3.2.css">   <!-- jQuery Mobile -->
        <link rel="stylesheet" href="./css/egovframework/mbl/cmm/EgovMobile-1.3.2.css">      <!-- eGov Mobile -->
        <link type="text/css" rel="stylesheet" href="./css/ol3/ol.css">                      <!-- OpenLayers 3 -->
        <link rel="stylesheet" href="http://cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css">      <!-- Data Table Plug-in -->

        <link rel="stylesheet" href="css/syntaxhighlighter/shCore.css">
        <link rel="stylesheet" href="css/syntaxhighlighter/shCoreDefault.css">

        <script type="text/javascript" src="./js/egovframework/mbl/cmm/jquery-1.9.1.min.js"></script>      <!-- jQuery -->
        <script type="text/javascript" src="./js/egovframework/mbl/cmm/jquery.mobile-1.3.2.min.js"></script> <!-- jQuery Mobile -->
        <script type="text/javascript" src="./js/egovframework/mbl/cmm/EgovMobile-1.3.2.js"></script>      <!-- eGov Mobile -->

        <!-- Proj, OpenLayers3, D3 -->
        <script type="text/javascript" src="./js/proj4js/2.2.2/proj4.js"></script>                         <!-- Proj4js -->
        <script type="text/javascript" src="./js/ol3/ol.js"></script>                                      <!-- OpenLayers 3 -->
        <script type="text/javascript" src="./js/d3/d3.js"></script>                                       <!-- D3.js -->
        <script type="text/javascript" src="http://cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script> <!-- Data Table jQuery Plug-in-->
        <script type="text/javascript" src="./js/OpenGDSMobileLib/openGDSMobileClient1.2.min.js"></script> <!-- OpenGDS Mobile -->

        <script type="text/javascript" src="./js/syntaxhighlighter/shCore.js"></script>
        <script type="text/javascript" src="./js/syntaxhighlighter/shBrushXml.js"></script>
        <script type="text/javascript" src="./js/syntaxhighlighter/shBrushJScript.js"></script>
        <script type="text/javascript" src="./js/syntaxhighlighter/shBrushCss.js"></script>
        <style>
            html, body{
                height:100%;
            }
        </style>

        <script>
            SyntaxHighlighter.all();
            var obj = null;
            var serverAddr = 'http://113.198.80.9/MobileWebMapping';
            function success(data){
            	for(var i in data){
                	$('#listName').append(data[i]);
                	$('#listName').append('<br>');
            	}
            }
            $(function(){
                var externalServer = new OGDSM.externalConnection();
                externalServer.getLayersGeoServer(serverAddr+'/getLayerNames.do','opengds', success);
            });
        </script>
    </head>

    <body>
        <div data-role="page">
            <div data-role="header" data-theme="b">
                OpenGDS Mobile Client Example
            </div>
            <div data-role="content" style="padding:0; margin:0;">
            	<h3>워크스페이스 이름 : opengds</h3>
            	<p id="listName" style="margin-left:30px;"></p>

                <h3 style="margin-left:10px;">GeoServer 레이어 리스트</h3>
                <p style="font-size:12px; margin-left:25px;">
                  서버에 설치된 GeoServer의 특정 워크스페이스의 데이터 목록을 받아옴
                </p>
                <p style="margin-left:25px;">Code</p>
                <pre class="brush:html;">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8" /&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;
        &lt;link rel="stylesheet" href="css/egovframework/mbl/cmm/jquery.mobile-1.3.2.css"&gt;   <!-- jQuery Mobile -->
        &lt;link rel="stylesheet" href="css/egovframework/mbl/cmm/EgovMobile-1.3.2.css"&gt;      <!-- eGov Mobile -->
        &lt;link type="text/css" rel="stylesheet" href="css/ol3/ol.css"&gt;                      <!-- OpenLayers 3 -->

        &lt;script type="text/javascript" src="js/egovframework/mbl/cmm/jquery-1.9.1.min.js"&gt;&lt;/script&gt;      <!-- jQuery -->
        &lt;script type="text/javascript" src="js/egovframework/mbl/cmm/jquery.mobile-1.3.2.min.js"&gt;&lt;/script&gt; <!-- jQuery Mobile -->
        &lt;script type="text/javascript" src="js/egovframework/mbl/cmm/EgovMobile-1.3.2.js"&gt;&lt;/script&gt;      <!-- eGov Mobile -->

        <!-- Proj, OpenLayers3, D3 -->
        &lt;script type="text/javascript" src="js/proj4js/2.2.2/proj4.js"&gt;&lt;/script&gt;                         <!-- Proj4js -->
        &lt;script type="text/javascript" src="js/ol3/ol.js"&gt;&lt;/script&gt;                                      <!-- OpenLayers 3 -->
        &lt;script type="text/javascript" src="js/d3/d3.js"&gt;&lt;/script&gt;                                       <!-- D3.js -->
        &lt;script type="text/javascript" src="js/OpenGDSMobileLib/openGDSMobileClient1.2.min.js"&gt;&lt;/script&gt; <!-- OpenGDS Mobile -->
        &lt;script&gt;
            ... (script 내용)
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h3&gt;워크스페이스 이름 : opengds&lt;/h3&gt;
        &lt;p id="listName" style="margin-left:30px;"&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
                </pre>
                <p style="margin-left:25px;">script 내용</p>
                <pre class="brush:js;">
            var obj = null;
            var serverAddr = 'http://113.198.80.9/MobileWebMapping';
            function success(data){
            	for(var i in data){
                	$('#listName').append(data[i]);
                	$('#listName').append('<br>');
            	}
            }
            $(function(){
                var externalServer = new OGDSM.externalConnection();
                externalServer.getLayersGeoServer(serverAddr+'/getLayerNames.do','opengds', success);
            });
                </pre>
            </div>



        </div>
	</body>
</html>
